(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{466:function(e,s,a){"use strict";a.r(s);var n=a(33),t=Object(n.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("Confluence是一个专业的企业知识管理与协同软件，也可以用于构建企业wiki。使用简单，但它强大的编辑和站点管理特征能够帮助团队成员之间共享信息、文档协作、集体讨论，信息推送。")]),e._v(" "),a("p",[e._v("本次教程以安装confluence7.9.0为例。")]),e._v(" "),a("p",[e._v("工具：")]),e._v(" "),a("ul",[a("li",[e._v("SSH连接工具：terminus")]),e._v(" "),a("li",[e._v("容器环境：Docker")]),e._v(" "),a("li",[e._v("Git")])]),e._v(" "),a("h2",{attrs:{id:"一、安装步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、安装步骤"}},[e._v("#")]),e._v(" 一、安装步骤")]),e._v(" "),a("p",[e._v("1）拉取镜像，启动confluence")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 拉取镜像")]),e._v("\n$ docker pull cptactionhank/atlassian-confluence:7.9.0\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 启动confluence，关联postgres数据库")]),e._v("\n$ docker run -d --name confluence -p "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("11000")]),e._v(":8090 --link postgres:postgres --user root:root cptactionhank/atlassian-confluence:7.9.0\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("p",[e._v("2）进入confluence页面，此处的地址是http://localhost:7090/")]),e._v(" "),a("ul",[a("li",[e._v("选择中文")]),e._v(" "),a("li",[e._v("不用选取Question和xxx")]),e._v(" "),a("li",[e._v("记录下==服务器ID==，稍后破解用")])]),e._v(" "),a("p",[e._v("3）开始破解")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 拉取破解文件，破解文件在该项目的crackfile文件夹中")]),e._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" clone https://github.com/joker8023/confluence.git\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("使用破解工具生成新的jar文件。运行crackfile/iNViSiBLE/keygen.sh脚本，即可启动keygen的程序。")]),e._v(" "),a("p",[e._v("在程序中，随意填写一个Name，然后填入之前记录的==服务器ID==，点击"),a("code",[e._v("gen")]),e._v("按钮生成激活的Key。")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 接着将crackfile目录下的atlassian-extras-2.4.jar文件复制替换掉容器中的atlassian-extras-decoder-v2-3.4.1.jar")]),e._v("\n$ docker "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" ./confluence/crackfile/atlassian-extras-decoder-v2-3.2.jar confluence:/opt/atlassian/confluence/confluence/WEB-INF/lib/atlassian-extras-decoder-v2-3.4.1.jar\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("4）重启confluence")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ docker restart confluence\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("5）再次进入confluence页面，此处的地址是http://localhost:7090/")]),e._v(" "),a("ul",[a("li",[e._v("粘贴刚才生成的激活的key")]),e._v(" "),a("li",[e._v("配置confluence")])]),e._v(" "),a("h2",{attrs:{id:"二、配置流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、配置流程"}},[e._v("#")]),e._v(" 二、配置流程")]),e._v(" "),a("p",[e._v("1）设置数据库")]),e._v(" "),a("p",[e._v("这里使用宿主机下docker运行的postgres存储confluence数据")]),e._v(" "),a("p",[e._v("首先需要在postgres中创建confluence数据库")]),e._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("CREATE DATABASE confluence;\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("配置连接：jdbc:postgresql://postgres:5432/confluence")])])}),[],!1,null,null,null);s.default=t.exports}}]);